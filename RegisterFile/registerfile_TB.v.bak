`timescale 1ns/10ps
module registerfile_TB();
	reg Clk;
	reg reset;
	reg we;
	reg [3:0] addressA;
	reg [3:0] addressB;
	reg [3:0] addressIn;
	reg [31:0] regIn;
	wire [31:0] A;
	wire [31:0] B;
	
	registerfile DUT(
		   .Clk(Clk),
			.reset(reset),
			.we(we),
			.addressA(addressA),
			.addressB(addressB),
			.addressIn(addressIn),
			.regIn(regIn),
			.A(A),
			.B(B)
	);
				
	initial
	begin
		reset = 0;
		#10 reset = 1;
		#10 reset = 0;
		
		#20 we = 1;
		addressIn = 3;
		regIn = 8'hABABFFFF;
		
		#20 we = 1;
		addressIn = 5;
		regIn = 8'h15161718;
		
		#20 we = 1;
		addressIn = 15;
		regIn = 8'h0045AB7F;
		
		#20 we = 0;
		addressA = 3;
		addressB = 4;
		
		#20 we = 0;
		addressA = 1;
		addressB = 15;
		
		#20 we = 0;
		addressA = 15;
		addressB = 5;
	end
	
	initial 
	begin		
	   Clk = 0;
	   forever #10 Clk = ~Clk;
   end
	  
   initial 
	begin
		#200 $stop;
	end	 
	 
endmodule 